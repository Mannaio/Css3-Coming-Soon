<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title></title>
	<link href='http://fonts.googleapis.com/css?family=Racing+Sans+One' rel='stylesheet' type='text/css'>
	<script type="text/javascript" src="js/jquery.1.7.1.min.js"></script>
	<script type="text/javascript" src="js/modernizr.2.5.3.min.js"></script>	
	<script type="text/javascript" src="//use.typekit.net/kzo0vzi.js"></script>
	<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<link rel="stylesheet" href="css/styles.css" />
	<link rel="stylesheet" type="text/css" href="css/component.css" />
	<script type="text/javascript">

	var messageDelay = 2000;  // How long to display status messages (in milliseconds)

	// Init the form once the document is ready
	$( init );


	// Initialize the form

	function init() {

	  // Hide the form initially.
	  // Make submitForm() the form's submit handler.
	  // Position the form so it sits in the centre of the browser window.
	  $('#contactForm').hide().submit( submitForm ).addClass( 'positioned' );

	  // When the "Send us an email" link is clicked:
	  // 1. Fade the content out
	  // 2. Display the form
	  // 3. Move focus to the first field
	  // 4. Prevent the link being followed

	  $('a[href="#contactForm"]').click( function() {
	    $('#content').fadeTo( 'slow', .2 );
	    $('#contactForm').fadeIn( 'slow', function() {
	      $('#senderName').focus();
	    } )

	    return false;
	  } );
	  
	  // When the "Cancel" button is clicked, close the form
	  $('#cancel').click( function() { 
	    $('#contactForm').fadeOut();
	    $('#content').fadeTo( 'slow', 1 );
	  } );  

	  // When the "Escape" key is pressed, close the form
	  $('#contactForm').keydown( function( event ) {
	    if ( event.which == 27 ) {
	      $('#contactForm').fadeOut();
	      $('#content').fadeTo( 'slow', 1 );
	    }
	  } );

	}


	// Submit the form via Ajax

	function submitForm() {
	  var contactForm = $(this);

	  // Are all the fields filled in?

	  if ( !$('#senderName').val() || !$('#senderEmail').val() || !$('#message').val() ) {

	    // No; display a warning message and return to the form
	    $('#incompleteMessage').fadeIn().delay(messageDelay).fadeOut();
	    contactForm.fadeOut().delay(messageDelay).fadeIn();

	  } else {

	    // Yes; submit the form to the PHP script via Ajax

	    $('#sendingMessage').fadeIn();
	    contactForm.css("display", "none");

	    $.ajax( {
	      url: contactForm.attr( 'action' ) + "?ajax=true",
	      type: contactForm.attr( 'method' ),
	      data: contactForm.serialize(),
	      success: submitFinished
	    } );
	  }

	  // Prevent the default form submission occurring
	  return false;
	}


	// Handle the Ajax response

	function submitFinished( response ) {
	  response = $.trim( response );
	  $('#sendingMessage').hide();

	  if ( response == "success" ) {

	    // Form submitted successfully:
	    // 1. Display the success message
	    // 2. Clear the form fields
	    // 3. Fade the content back in

	    $('#successMessage').fadeIn().delay(messageDelay);
	    $('#senderName').val( "" );
	    $('#senderEmail').val( "" );
	    $('#message').val( "" );

	    $('#content').delay(messageDelay+500).fadeTo( 'slow', 1 );

	  } else {

	    // Form submission failed: Display the failure message,
	    // then redisplay the form
	    $('#failureMessage').fadeIn().delay(messageDelay).fadeOut();
	    $('#contactForm').delay(messageDelay+500).fadeIn();
	  }
	}

	</script>

	<script type="text/javascript">

	$(function() {
	    $("a#button").click(function () {
	        $(".subscribe").css("display", "none");
	    });
	});

	$(function() {
	    $(".md-close").click(function () {
	        $(".subscribe").css("display", "block");
	    });
	});

	$(function() {
	    $(".md-overlay").click(function () {
	        $(".subscribe").css("display", "block");
	        $("#successMessage").css("display", "none");
	    });
	});

	$(function() {
	    $(".md-closing").click(function () {
	        $(".subscribe").css("display", "block");
	        $("#successMessage").css("display", "none");
	        $(".md-overlay").css("visibility", "hidden");
	    });
	});

	</script>

</head>
<body>

<div class="md-modal md-effect-17" id="modal-17">
	<div class="md-content">
		<div id="sendingMessage" class="statusMessage"><p>Sending your message. Please wait...</p></div>
		<div id="successMessage" class="statusMessage"><p>Thanks for sending your message!I 'll get back to you shortly.</p><a href="http://www.tommasovilla.com/">Go back</a></div>	
		<div id="failureMessage" class="statusMessage"><p>There was a problem sending your message. Please try again.</p></div>
		<div id="incompleteMessage" class="statusMessage"><p>Please complete all the fields in the form before sending.</p></div>

	<form id="contactForm" action="processForm.php" method="post">
	  <ul>

	    <li>
	      <label for="senderName">Names</label>
	      <input type="text" name="senderName" id="senderName" required="required" maxlength="40" />
	    </li>

	    <li>
	      <label for="senderEmail">Email</label>
	      <input type="email" name="senderEmail" id="senderEmail" required="required" maxlength="50" />
	    </li>

	    <li>
	      <label for="message" style="padding-top: .5em;">Message</label>
	      <textarea name="message" id="message" required="required" cols="80" rows="10" maxlength="10000"></textarea>
	    </li>

	  </ul>

	  <div id="formButtons">
	    <button type="submit" id="sendMessage" name="sendMessage" value="Send Email" />Send Email</button>
	    <button class="md-close">Close me</button>
	  </div>

	</form>

	</div>
</div>

<div class="container">
	<div class="subscribe">
		<div class="subscribe-wrapper">
			<div class="subscribe-form">
				<div class="stripes top"></div>
				<div class="subscribe-space">				
					<p>My new web is under costrunction.</p>
					<p>Send me an email to stay update</p>
					<hr class="line">
					<a id="button" class="md-trigger md-setperspective" data-modal="modal-17" href="#contactForm">Send</a></button>			
				</div>			
			</div>
		</div>
	</div>		
</div>


<div class="md-overlay"></div><!-- the overlay element -->

<script src="js/classie.js"></script>
<script src="js/modalEffects.js"></script>

<!-- for the blur effect -->
<!-- by @derSchepp https://github.com/Schepp/CSS-Filters-Polyfill -->
<script>
	// this is important for IEs
	var polyfilter_scriptpath = '/js/';
</script>
		
</script>

<script src="js/cssParser.js"></script>
<script src="js/css-filters-polyfill.js"></script>


</body>
</html>